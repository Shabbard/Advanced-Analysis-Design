@page "/GpUploadInput/{id}"

@inject AuthenticationStateProvider AuthenticationStateProvider
@inject NavigationManager NavigationManager


<MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="mt-10">
    <MudGrid>
        <MudItem xs="3">
               <MudButton Variant="Variant.Filled" StartIcon="@Icons.Material.West" IconColor="Color.Secondary" Size="Size.Large" Class="rounded-lg">Update & Return</MudButton>
        </MudItem>

        <MudItem xs="12">
                <MudPaper Elevation="5" Class="pa-4 rounded-lg">

                    <MudText>Input Patient Test Results</MudText>

                    <MudGrid Style="flex-direction: row; align-items:center" Justify="Justify.Center" Class="py-2">

                        <MudItem xs="5">
                            <MudAutocomplete T="string" Label="Test Type" Variant="Variant.Outlined"/>
                        </MudItem>

                        <MudItem xs="5">
                            <MudTextField @bind-Value="TextValue" Label="Result" Variant="Variant.Outlined"></MudTextField>
                        </MudItem>

                        <MudItem xs="2">
                            <MudButton Variant="Variant.Filled" StartIcon="@Icons.Material.Add" IconColor="Color.Secondary" Size="Size.Large" Style="flex: 1" Class="rounded-lg">Add Test Results</MudButton>
                        </MudItem>

                    </MudGrid>
                </MudPaper>
        </MudItem>

        <MudItem xs="12">
                <MudPaper Elevation="5" Class="pa-4 rounded-lg" Style="height: 600px;"></MudPaper>  
        </MudItem>

    </MudGrid>
</MudContainer>

@code {

    [Parameter]
    public string id { get; set; }

    public string TextValue { get; set; }

    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        var user = authState.User;

        if (user.IsInRole("GP") || user.IsInRole("Admin"))
        {


        }
        else
        {

            NavigationManager.NavigateTo("/", true);

        }
    }

}